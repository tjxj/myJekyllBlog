---
title: Gemma.md
author: è€ç«  mlpy
date: 2024-04-01 14:10:00 +0800
categories: [AIGC]
tags: [aigc]
render_with_liquid: false
---

![](https://r2.zhanglearning.com/2024/02/cf544f19fd7dba3d1067a21f2e41a0b4.webp)

### Gemma

æ˜¨å¤©ä¸‹åˆï¼Œè°·æ­Œå¼€æºäº†è½»é‡çº§å¼€æºå¤§æ¨¡å‹ Gemmaï¼Œå…¶çµæ„Ÿæ¥è‡ª Geminiï¼Œå…¶åç§°åæ˜ äº†æ‹‰ä¸è¯­*gemma*ï¼Œæ„æ€æ˜¯â€œå®çŸ³â€ã€‚Gemma ç”± Google DeepMind å’Œ Google çš„å…¶ä»–å›¢é˜Ÿå¼€å‘ï¼Œé‡‡ç”¨ä¸åˆ›å»º[Gemini](https://deepmind.google/technologies/gemini/#introduction)æ¨¡å‹ç›¸åŒçš„ç ”ç©¶å’ŒæŠ€æœ¯è€Œæ„å»ºã€‚

å…³äº Gemini æˆ‘å†™è¿‡å‡ ç¯‡æ–‡ç« ï¼Œåœ¨æœ‹å‹åœˆä¹Ÿå¤¸è¿‡è‹¥å¹²æ¬¡ã€‚è¿˜ä¸ºçŸ¥è¯†æ˜Ÿçƒçš„å¥½å‹å¼€æ”¾äº†å›½å†…å¯ç”¨çš„ Gemini Chatï¼Œç›®å‰æ­£åœ¨å¼€å‘çš„ä¸€ä¸ª App ä¹Ÿè°ƒç”¨äº† Gemini APIã€‚

![](https://r2.zhanglearning.com/blog/2024/02/ac1fd7c92af2687cd651bb81c4d4fa38.png)

Gemma ç‰¹ç‚¹å¦‚ä¸‹ï¼š

- ğŸ§® ä¸¤ç§å°ºå¯¸çš„æ¨¡å‹é…é‡ï¼šGemma 2B å’Œ Gemma 7Bã€‚æ¯ä¸ªå°ºå¯¸éƒ½å‘å¸ƒäº†ç»è¿‡é¢„è®­ç»ƒå’ŒæŒ‡ä»¤è°ƒæ•´çš„å˜ä½“ã€‚
- ğŸ” æ–°çš„ Responsible Generative AI å·¥å…·åŒ…ä¸ºä½¿ç”¨ Gemma åˆ›å»ºæ›´å®‰å…¨çš„ AI åº”ç”¨ç¨‹åºæä¾›äº†æŒ‡å¯¼å’ŒåŸºæœ¬å·¥å…·ã€‚
- ğŸ’°é€šè¿‡åŸç”Ÿ Keras 3.0 æä¾›è·¨æ‰€æœ‰ä¸»è¦æ¡†æ¶çš„æ¨ç†å’Œç›‘ç£å¾®è°ƒ (SFT) å·¥å…·é“¾ï¼šJAXã€PyTorch å’Œ TensorFlowã€‚
- ğŸªŸå³ç”¨å‹ Colab å’Œ Kaggle ç¬”è®°æœ¬ï¼Œä»¥åŠä¸ Hugging Faceã€MaxTextã€NVIDIA NeMo å’Œ TensorRT-LLM ç­‰æµè¡Œå·¥å…·çš„é›†æˆï¼Œå¯ä»¥è½»æ¾å¼€å§‹ä½¿ç”¨ Gemmaã€‚
- ğŸ¥‡ é¢„å…ˆè®­ç»ƒå’ŒæŒ‡ä»¤è°ƒæ•´çš„ Gemma æ¨¡å‹å¯ä»¥åœ¨ç¬”è®°æœ¬ç”µè„‘ã€å·¥ä½œç«™æˆ– Google Cloud ä¸Šè¿è¡Œï¼Œå¹¶å¯è½»æ¾éƒ¨ç½²åœ¨ Vertex AI å’Œ Google Kubernetes Engine (GKE) ä¸Šã€‚
- âš–ï¸è·¨å¤šä¸ª AI ç¡¬ä»¶å¹³å°çš„ä¼˜åŒ–å¯ç¡®ä¿è¡Œä¸šé¢†å…ˆçš„æ€§èƒ½ï¼ŒåŒ…æ‹¬ NVIDIA GPU å’Œ Google Cloud TPUã€‚
- ğŸ§  ä½¿ç”¨æ¡æ¬¾å…è®¸æ‰€æœ‰ç»„ç»‡ï¼ˆæ— è®ºè§„æ¨¡å¤§å°ï¼‰è´Ÿè´£ä»»åœ°è¿›è¡Œå•†ä¸šä½¿ç”¨å’Œåˆ†å‘ã€‚



æˆ‘æ„Ÿè§‰æ¯”è¾ƒè¯±äººçš„ç‚¹ï¼š

ä¸€æ˜¯åœ¨å¼€æºçš„å¤§æ¨¡å‹ä¸­æ€§èƒ½ä¸é”™ï¼›

äºŒæ˜¯ä½¿ç”¨æ–¹ä¾¿ï¼ˆColab å’Œ Kaggle notebook å³ç”¨ï¼‰ã€é…å¥—å®Œå–„ï¼ˆè·¨å¤šæ¡†æ¶ Keras 3.0ã€æœ¬æœº PyTorchã€JAX å’Œ Hugging Face Transformersï¼‰ã€éƒ¨ç½²æ–¹ä¾¿ï¼ˆVertex AIã€GKEã€Hugging Faceï¼‰

ä¸‰æ˜¯å…è´¹å•†ç”¨ï¼Œä½¿ç”¨ Kaggle ä¸­çš„å…è´¹è®¿é—®æƒé™ã€Colab ç¬”è®°æœ¬çš„å…è´¹å¥—é¤ä»¥åŠé¦–æ¬¡ä½¿ç”¨ Google Cloud ç”¨æˆ·çš„ 300 ç¾å…ƒç§¯åˆ†ã€‚



![Gemma æ¨¡å‹ä¸ Gemini å…±äº«æŠ€æœ¯å’ŒåŸºç¡€è®¾æ–½ç»„ä»¶ï¼ŒGemma 2B å’Œ 7B èƒ½å¤Ÿåœ¨å…¶å°ºå¯¸èŒƒå›´å†…å®ç°åŒç±»æœ€ä½³çš„æ€§èƒ½ã€‚Gemma æ¨¡å‹èƒ½å¤Ÿç›´æ¥åœ¨å¼€å‘äººå‘˜ç¬”è®°æœ¬ç”µè„‘æˆ–å°å¼è®¡ç®—æœºä¸Šè¿è¡Œã€‚](https://r2.zhanglearning.com/2024/02/021603d98e936a3869fd737a8d497402.webp)





### æ¨¡å‹ä¸‹è½½å’Œçº¿ä¸Šç”¨æ³•

![](https://r2.zhanglearning.com/blog/2024/02/c431c7629d56d2a4d7ebd6b6e0c67d12.png)

æ¨¡å‹ä¸‹è½½ï¼Œæˆ‘è¯•äº†ä¸€ä¸‹åœ¨ Kaggle ä¸‹è½½æ¯”è¾ƒæ–¹ä¾¿ï¼šhttps://www.kaggle.com/models/google/gemma/frameworks/gemmaCpp

ä¸è¿‡éœ€è¦å…ˆç”³è¯·ä¸€ä¸‹ï¼Œå‡ ç§’é’Ÿçš„äº‹å„¿

![](https://r2.zhanglearning.com/blog/2024/02/ccf79cc819fcd004f03a3b5697804395.png)



ç„¶åè‡ªåŠ¨è·³è½¬åæ‰¾åˆ° Model Card è¿™é‡Œé€‰æ‹©å¯¹åº”æ¡†æ¶ç‰ˆæœ¬çš„ Gemma å³å¯

![](https://r2.zhanglearning.com/blog/2024/02/f35d250c014de62f737c9b93855cb41a.png)



å®˜æ–¹æä¾›äº†å„ç§ç‰ˆæœ¬çš„ä½¿ç”¨æ–¹æ³•ï¼š

#### Running the model on a CPU

```python
from transformers import AutoTokenizer, AutoModelForCausalLM

tokenizer = AutoTokenizer.from_pretrained("google/gemma-2b")
model = AutoModelForCausalLM.from_pretrained("google/gemma-2b")

input_text = "Write me a poem about Machine Learning."
input_ids = tokenizer(**input_text, return_tensors="pt")

outputs = model.generate(input_ids)
print(tokenizer.decode(outputs[0]))
```



#### Running the model on a single / multi GPU

```python
# pip install accelerate
from transformers import AutoTokenizer, AutoModelForCausalLM

tokenizer = AutoTokenizer.from_pretrained("google/gemma-2b")
model = AutoModelForCausalLM.from_pretrained("google/gemma-2b", device_map="auto")

input_text = "Write me a poem about Machine Learning."
input_ids = tokenizer(input_text, return_tensors="pt").to("cuda")

outputs = model.generate(**input_ids)
print(tokenizer.decode(outputs[0]))
```



ä¸è¿‡æœ€æ–¹ä¾¿çš„è¿˜æ˜¯ç›´æ¥çº¿ä¸Šè¿è¡Œï¼š

vertex-ai ä¸Šè¿è¡Œï¼šhttps://console.cloud.google.com/vertex-ai/publishers/google/model-garden/335?pli=1

kaggle notebook ä¸Šè¿è¡Œï¼šhttps://www.kaggle.com/code/scratchpad/notebookd670608aeb/edit?modelId=3301

### æ‹“å±•å­¦ä¹ 

Gemma ç®€ä»‹ï¼šhttps://huggingface.co/blog/gemma
Models ä»‹ç»ï¼šhttps://huggingface.co/models?other=gemma&sort=trending&search=google

å¿«é€Ÿå…¥é—¨æŒ‡å—ï¼šhttps://ai.google.dev/gemma/docs/get_started

ç¤ºä¾‹ä»£ç ï¼šhttps://github.com/google/generative-ai-docs/tree/main/site/en/gemma/docs

